# TDD 예: 암호 검사기

암호 검사기는 다음 요구사항을 만족해야 한다.

검사할 규칙은 다음 세 가지이다.

- 길이가 8글자 이상
- 0부터 9사이의 숫자를 포함
- 대문자 포함
- 세 규칙을 모두 충족하면 암호는 강함이다.
- 2개의 규칙을 충족하면 암호는 보통이다.
- 1개 이하의 규칙을 충족하면 암호는 약함이다.

---

# 첫 번째 시도

- 사용자로부터 암호를 입력받는다.
- 입력받은 암호를 검증한다.
- 암호가 규칙에 만족하는지 검사한다.
  - 길이가 8글자 이상인지 검사한다.
  - 0부터 9사이의 숫자를 포함하는지 검사한다.
  - 대문자를 포함하는지 검사한다.
- 암호의 강도를 계산한다.
  - 1개 이하의 규칙을 만족하면 암호는 약함(weak)이다.
  - 2개 이하의 규칙을 만족하면 암호는 보통(normal)이다.
  - 세 규칙을 모두 만족하면 암호는 강함(strong)이다.
- 암호의 강도를 반환한다.

## 기능 목록

- [X] 암호를 검증할 수 있다.
    - [X] 암호가 null이거나 공백 문자열이면 예외가 발생한다.
    - [X] 암호에 공백이 포함되어 있으면 예외가 발생한다.
- [X] 암호가 규칙에 만족하는지 검사할 수 있다.
  - [X] 길이가 8글자 이상인지 검사할 수 있다.
  - [X] 0부터 9사이의 숫자를 포함하는지 검사할 수 있다.
  - [X] 대문자를 포함하는지 검사할 수 있다.
  - [X] 만족하는 규칙의 개수를 구할 수 있다.
    - [X] 1개의 규칙을 만족하는 경우를 구할 수 있다.
      - [X] 길이가 8 이상인 알파벳 소문자 암호는 1개의 규칙에 만족한다.
      - [X] 길이가 8 미만인 숫자 암호는 1개의 규칙에 만족한다.
      - [X] 길이가 8 미만인 알파벳 대문자 암호는 1개의 규칙에 만족한다.
    - [X] 2개의 규칙을 만족하는 경우를 구할 수 있다.
      - [X] 길이가 8 이상인 숫자 암호는 2개의 규칙에 만족한다.
      - [X] 길이가 8 이상인 대문자 암호는 2개의 규칙에 만족한다.
      - [X] 대문자와 숫자를 포함하는 암호는 2개의 규칙에 만족한다.
    - [X] 3개의 규칙을 만족하는 경우를 구할 수 있다.
      - [X] 길이가 8 이상인 대문자와 숫자를 포함하는 암호는 3개의 규칙에 만족한다.
- [X] 암호의 강도를 구할 수 있다.
  - [X] 1개 이하의 규칙을 만족하면 강도는 약함이다.
  - [X] 2개 이하의 규칙을 만족하면 강도는 보통이다. 
  - [X] 규칙을 모두 만족하면 강도는 강함이다.

## 회고

- 암호의 규칙을 도메인으로 만드는 것에 고민이 있었다.
  - 현재 암호 규칙은 열거형으로 구현함.
  - 그러나 암호의 규칙이 지금보다 더 필요하다면 현재 구조가 최선일까?
- 현재 시점에서 암호 규칙에 대한 일급 컬렉션이 굳이 필요할까?
  - 강도 검사기에서 암호 규칙을 생성자로 받아 구현하는게 더 좋지 않을까?
  - 암호 규칙을 유연하게 선택하고 변경하려면 추상 팩토리 패턴을 적용해볼 수 있지 않을까?